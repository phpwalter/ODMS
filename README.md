## ğŸ§© Project Badges


![Framework](https://img.shields.io/badge/framework-Tsunami--scripts-lightblue?logo=python&logoColor=white)
![Status](https://img.shields.io/badge/status-active-blue)
![Version](https://img.shields.io/badge/version-1.0-blue?logo=semantic-release&logoColor=white)

![Language](https://img.shields.io/badge/%F0%9F%92%BB%20language-ğŸPython%203.9%2B-blue)<br>
![Scripts](https://img.shields.io/badge/%F0%9F%93%9C%20scripts-ğŸ%20Python%20%7C%20ğŸ–¥ï¸%20Bash%2FShell%20%7C%20ğŸ%20Batch%20(Windows)-blue)<br>
![Platforms](https://img.shields.io/badge/%F0%9F%96%A5%EF%B8%8F%20platforms-%F0%9F%AA%9F%20Windows%20%7C%20%F0%9F%90%A7%20Linux%20%7C%20%F0%9F%8D%8F%20macOS-blue?style=flat-square)

![CI](https://img.shields.io/badge/ci-GitHub_Actions-blue?logo=githubactions&logoColor=white)

![Tests](https://img.shields.io/badge/tests-%3E%3D92%25-brightgreen?logo=pytest&logoColor=white)<br>
![Coverage](https://img.shields.io/badge/coverage-%3E%3D80%25-brightgreen?logo=codecov&logoColor=white)

![Docs Available](https://img.shields.io/badge/docs-Available-brightgreen?logo=readthedocs&logoColor=white)
![Multi-Lingual](https://img.shields.io/badge/i18n-multi--language-brightgreen?logo=googletranslate&logoColor=white)

![License](https://img.shields.io/badge/license-CC--BY--4.0-blue?logo=open-source-initiative&logoColor=white)
---



![Linux](https://img.shields.io/badge/Linux-Tested-success?logo=linux&logoColor=white&color=2bbc8a)
![macOS](https://img.shields.io/badge/macOS-Tested-success?logo=apple&logoColor=white&color=gray)
![Windows](https://img.shields.io/badge/Windows-Tested-success?logo=windows&logoColor=white&color=0078D6)


### ğŸ“˜ Documentation & Versioning

| Badge                                                                                                                   | Description                  |
|-------------------------------------------------------------------------------------------------------------------------|------------------------------|
| [![Docs](https://img.shields.io/badge/docs-GitHub%20Pages-blue?logo=book)](https://your-org.github.io/odms/)            | ğŸ“– Project documentation     |
| ![Version](https://img.shields.io/github/v/tag/your-org/odms?logo=tag&color=red)                                        | ğŸ·ï¸ Latest tagged release    |
| ![Pre-release](https://img.shields.io/github/v/release/your-org/odms?include_prereleases&label=pre-release&logo=github) | Latest pre-release           |
| ![Changelog](https://img.shields.io/badge/changelog-available-brightgreen?logo=git)                                     | Git commit history & changes |

---

### ğŸ§ª CI & Quality Gates

| Badge                                                                                                               | Description                      |
|---------------------------------------------------------------------------------------------------------------------|----------------------------------|
| ![CI](https://github.com/your-org/odms/actions/workflows/test.yml/badge.svg)                                        | GitHub Actions test suite        |
| ![Lint](https://github.com/your-org/odms/actions/workflows/commitlint.yml/badge.svg)                                | Commit/PR convention check       |
| ![Release](https://github.com/your-org/odms/actions/workflows/release.yml/badge.svg)                                | GitHub automated releases        |
| [![Coverage](https://codecov.io/gh/your-org/odms/branch/main/graph/badge.svg)](https://codecov.io/gh/your-org/odms) | Code coverage (Codecov)          |
| ![Dependabot](https://img.shields.io/github/dependabot/status/your-org/odms?logo=dependabot)                        | Dependency status (auto-managed) |

---

### ğŸ’» Platform & Language Support

| Badge                                                                                                                                       | Description                                     |
|---------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
| ![Python](https://img.shields.io/badge/python-3.11%2B-blue?logo=python&logoColor=yellow)                                                    | ğŸ Python 3.11+ support                         |
| ![Platform](https://img.shields.io/badge/platform-Windows%20%7C%20macOS%20%7C%20Linux-green?logo=platformsh&logoColor=white&labelColor=555) | Cross-platform support                          |
| ![Tested](https://img.shields.io/badge/Tested%20On-Linux--macOS--Windows-blue?logo=linux&logoColor=white&labelColor=blue&style=flat-square) | âœ… CI tested on ğŸ§ Linux / ğŸ macOS / ğŸªŸ Windows |

---

### ğŸ§  Project Philosophy

| Badge                                                                                                         | Description                        |
|---------------------------------------------------------------------------------------------------------------|------------------------------------|
| ![Immutable Pipeline](https://img.shields.io/badge/pipeline-immutable-critical?color=blueviolet&logo=codecov) | Locked 7-stage execution model     |
| ![Spec-Driven](https://img.shields.io/badge/spec--driven-OpenAPI%203.1-blue?logo=openapiinitiative)           | Behavior dictated strictly by spec |
| ![Deterministic](https://img.shields.io/badge/100%25-deterministic-success?logo=checkmarx)                    | Same input + state = same output   |
| ![Postman](https://img.shields.io/badge/postman-ready-orange?logo=postman&logoColor=white)                    | Postman test collections provided  |

---

### ğŸŒ Internationalization (i18n)

| Badge                                                                                                                                                              | Description                                         |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
| ![Languages](https://img.shields.io/badge/i18n-%F0%9F%87%AC%F0%9F%87%A7%20%7C%20%F0%9F%87%A9%F0%9F%87%AA%20%7C%20%F0%9F%87%AB%F0%9F%87%B7-blue?label=Translations) | ğŸŒ English ğŸ‡¬ğŸ‡§, German ğŸ‡©ğŸ‡ª, French ğŸ‡«ğŸ‡· supported |

---

### ğŸ“Š Codebase Stats

| Badge                                                                                   | Description                     |
|-----------------------------------------------------------------------------------------|---------------------------------|
| ![Top Language](https://img.shields.io/github/languages/top/your-org/odms?logo=github)  | Most used language              |
| ![Lang Count](https://img.shields.io/github/languages/count/your-org/odms)              | Language diversity              |
| ![LOC](https://img.shields.io/tokei/lines/github/your-org/odms?label=lines%20of%20code) | Total lines of code (via Tokei) |
| ![Code Size](https://img.shields.io/github/languages/code-size/your-org/odms)           | Repo size (compressed code)     |


---

# OpenAPIâ€‘Driven Mock Server (ODMS)

ODMS is a **spec-driven request execution engine** that transforms OpenAPI 3.1 specifications from passive documentation into **executable intent**. It enforces strict contract validation, simulates business logic, manages state deterministically, and provides a fully emulated â€œDigital Twinâ€ of an API â€” all while maintaining a zero-guesswork, no-reinterpretation approach.

---

## ğŸš€ Project Purpose

ODMS empowers developers by:

* Treating OpenAPI documents as **deterministic programs**.
* Acting as a **"Contract Cop"**, strictly enforcing OpenAPI schemas, security protocols, and business logic.
* Creating a **deterministic mock environment** with traceable execution and explainable failures.
* Enabling **faster integration**, **frontend development**, and **handoffs** with implementation-grade accuracy.

---

## ğŸ¯ Project Objectives

1. **Executable Specification Authority**
   Interpret OpenAPI operations as code. All behavior is defined by the specâ€”no redesign, no guesswork.

2. **Immutable Request Validation ("Iron Gate")**
   Enforce a strict 7-stage pipeline:
   `Security â†’ Extraction â†’ x-Validations â†’ Schema Validation â†’ State â†’ Response Selection â†’ Serialization`

3. **Deterministic State Management**
   Predictable behavior with same input + same state = same output.

4. **Operational Transparency**
   Universal error model, request traces, and full testing support.

---

## ğŸ” Scope Overview

### âœ… In Scope

* Recursive `$ref` resolution and spec registry
* Immutable, 7-stage request execution pipeline
* Security enforcement (API key, bearer, OAuth2)
* Business logic simulation with `x-validations`
* Deterministic state backends (Memory / File / SQLite)
* Swagger UI and resolved `/openapi.json`
* CLI tools (`start`, `reset`, `seed`)
* Testing artifacts (Postman collections, CLI fixture outputs)

### âŒ Out of Scope

* Complex data generation (e.g., property-based or random)
* Dynamic routing or runtime `$ref` resolution
* Behavior not declared in the OpenAPI document

---

## ğŸ“¦ Deliverables

* âœ… Executable OpenAPI Registry (`OperationDescriptor`)
* âœ… Fully resolved `/openapi.json`
* âœ… Mock HTTP API endpoints
* âœ… Universal error model with trace support
* âœ… CLI for interaction and test setup
* âœ… Swagger UI (optional)
* âœ… Testing artifacts (fixtures, Postman collections)

---

## ğŸ“ High-Level Requirements

* **Language & Stack:** Python 3.11+, FastAPI, Pydantic v2, `prance`, `jsonschema`
* **Routing:** Zero-logic dispatch adapter
* **Schema Support:** OpenAPI 3.1 and JSON Schema 2020-12
* **Execution Pipeline:** Immutable and non-configurable
* **State Management:** Thread-safe, deterministic (SQLite/File/Memory)

---

## ğŸ§ª Example Usage (Sample Spec)

A sample OpenAPI 3.1 spec is included in:

```text
specs/sample-jwt-api.yaml
````

### Routes Included

| Path         | Auth Required | Description                    |
|--------------|---------------|--------------------------------|
| `/protected` | âœ… JWT token   | Secured route using bearerAuth |
| `/health`    | âŒ None        | Returns code + updatetime      |

### Start ODMS with the Sample

```bash
odms start --spec specs/sample-jwt-api.yaml --backend memory
```

### Sample `/health` Response

```json
{
  "code": 8347,
  "updatetime": 1706487912
}
```

---

## ğŸ§° CLI Commands

| Command      | Description                              |
|--------------|------------------------------------------|
| `odms start` | Start server with a spec and backend     |
| `odms seed`  | Load fixture data into the state backend |
| `odms reset` | Clear all stored state                   |
| `--help`     | View usage options for each command      |

---

## ğŸ§  x-Validation Rules

ODMS supports custom validation logic declared in your OpenAPI spec via `x-validations`.

```yaml
x-validations:
  - rule: uniqueField
    field: email
    collection: users
  - rule: existsInStore
    field: user_id
    collection: users
```

ğŸ“˜ View the full rule catalog: [`docs/x-validation-catalog.md`](./docs/x-validation-catalog.md)

---

## ğŸ§ª Testing Overview

* âœ… Unit tests using `pytest`
* âœ… CLI-based fixture regression tests
* âœ… Postman collection for manual/external testing
* âœ… Scenario tests for end-to-end flows
* ğŸ”œ Snapshot testing CLI (planned)

---

## ğŸ§­ Development Roadmap

| Milestone                  | Duration | Deliverables                              |
|----------------------------|----------|-------------------------------------------|
| **M1: Spec Resolution**    | 2 weeks  | Immutable Operation Registry              |
| **M2: Execution Pipeline** | 3 weeks  | 7-Stage Request Pipeline                  |
| **M3: State & Responses**  | 2 weeks  | Deterministic Backend & Response Strategy |
| **M4: CLI & UI**           | 2 weeks  | CLI, Swagger UI, Full Test Coverage       |

---

## ğŸ’¡ Architecture Overview

### Execution Pipeline Stages

1. `SecurityGate`
2. `RequestExtraction`
3. `xValidations`
4. `SchemaValidation`
5. `StateInteraction`
6. `ResponseSelection`
7. `Serialization`

### Response Strategy

* OpenAPI `examples`
* Fixture Files
* Deterministic State Data
* Schema-Based Generation

---

## ğŸ§‘â€ğŸ’» Developer Documentation

| ğŸ“˜ Guide                                                    | Description                                           |
|-------------------------------------------------------------|-------------------------------------------------------|
| [Developer Guide](./docs/Developer%20Guide.md)              | Dev setup, CLI usage, architecture & pipeline         |
| [Versioning Policy](./VERSIONING.md)                        | Semantic versioning and release rules                 |
| [Changelog](./CHANGELOG.md)                                 | History of all releases and changes                   |
| [x-Validation Rule Catalog](./docs/x-validation-catalog.md) | Reference for all supported business rule validations |

---

## ğŸ§ª Testing Artifacts

* âœ… Postman Collection: [`tests/postman/`](./tests/postman/)
* âœ… CLI fixture tests: `tests/fixtures/`
* âœ… Unit + scenario tests: `tests/`
* ğŸ”œ Snapshot tests: [Planned]

---

## ğŸ“ Additional Documentation

All primary project artifacts are available in [`docs/`](./docs/):

* ğŸ“„ [Project Charter](./docs/Project%20Charter.md)
* ğŸ”­ [Scope Statement](./docs/Scope%20Statement.md)
* ğŸ’¼ [Business Requirements](./docs/Business%20Requirements%20Document.md)
* âš™ï¸ [Functional Requirements](./docs/Functional%20Requirements%20Document.md)
* ğŸ‘¥ [User Stories](./docs/User%20Stories.md)
* ğŸ›  [Technical Specifications](./docs/Technical%20Specifications.md)
* ğŸ“… [Project Plan](./docs/Project%20Plan.md)
* ğŸ” [Sprint Plans](./docs/Sprint%20Plans.md)
* ğŸš¨ [Risk Register](./docs/Risk%20Register.md)
* ğŸ”§ [Change Management Plan](./docs/Change%20Management%20Plan.md)
* âœ… [Test Cases](./docs/Test%20Cases.md)
* ğŸš€ [Deployment & Release Notes](./docs/Deployment.md)
* ğŸ· [TODO Tracker](./docs/TODOs.md)

---

## ğŸ‘¥ Contributing

* Follow the [Developer Guide](./docs/Developer%20Guide.md)
* Use [Conventional Commits](https://www.conventionalcommits.org/)
* Test all contributions thoroughly before opening a PR

---

## ğŸ“« Support

For issues, feature requests, or support:

* Open an issue in this repository
* Join GitHub Discussions (if enabled)
* Contact the maintainer listed in `docs/13. Developer Guides.md`

---
